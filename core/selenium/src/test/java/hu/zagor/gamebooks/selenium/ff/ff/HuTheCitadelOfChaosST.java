package hu.zagor.gamebooks.selenium.ff.ff;

import hu.zagor.gamebooks.selenium.ff.BasicFfSeleniumTest;

import java.util.Arrays;

import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

/**
 * Selenium test for book KJK6.
 * @author Tamas_Szekeres
 */
@Test
public class HuTheCitadelOfChaosST extends BasicFfSeleniumTest {

    @BeforeClass
    public void setUpClass() {
        startBook("990162006", "kjk6");
    }

    public void testHappyPath() {
        setUpRandomRolls(Arrays.asList(3, 4, 6, 4, 5, 1, 1, 3, 5, 3, 5, 5, 3, 4, 4, 4, 4, 2, 4, 3, 1, 2, 2, 2, 1, 2, 2, 4, 6, 5, 3, 4, 4, 5, 3, 3, 3, 1, 6, 2, 6, 4, 4,
            4, 3, 1, 4, 4, 3, 5, 4, 1, 3, 2, 3, 5, 4, 1, 5, 3, 5, 3, 3, 3, 1, 2, 3, 5, 3, 2, 1, 1, 3, 1, 5, 3, 4, 3, 2, 5, 5, 1, 3, 1, 1, 4, 3, 1, 4, 4, 4, 3, 2, 4, 4,
            4, 4, 5, 3, 5, 4, 1, 4, 5, 3, 2, 1, 2, 5, 3, 2, 1, 2, 4, 5, 4, 1, 5, 3, 1, 4, 3, 3, 5, 4, 2, 1, 5, 3, 1, 5, 4, 3, 3, 2, 5, 1, 5, 1, 3, 2, 5, 3, 1, 5, 2, 1,
            2, 3, 1, 4, 2, 2, 5, 2, 1, 3, 1, 3, 2, 5, 2, 2, 3, 2));

        click("[data-spell='levitation'] span");
        click("[data-spell='esp'] span");
        click("[data-spell='weakness'] span");
        click("[data-spell='shielding'] span");
        click("[data-spell='luck'] span");
        click("[data-spell='illusion'] span");
        click("[data-spell='weakness'] span");
        click("[data-spell='stamina'] span");
        click("[data-generator-button='ff2']");

        goToPosition("0", "background");
        verifyPosition(0, 1);
        goToPosition(0, 1);
        verifyPosition(0, 261);
        verifyPosition(1, 230);
        verifyPosition(2, 20);
        goToPosition(0, 261);
        verifyPosition(0, 81);
        verifyPosition(1, 175);
        verifyPosition(2, 394);
        goToPosition(0, 81);
        verifyPosition(0, 251);
        goToPosition(0, 251);
        verifyPosition(0, 222);
        verifyPosition(1, 179);
        verifyPosition(2, 321);
        goToPosition(2, 321);
        verifyPosition(0, 269);
        verifyPosition(1, 339);
        goToPosition(1, 339);
        verifyPosition(0, 134);
        verifyPosition(1, 149);
        goToPosition(0, 134);
        verifyPosition(0, 60);
        verifyPosition(1, 269);
        verifyPosition(2, 245);
        goToPosition(0, 60);
        verifyPosition(1, 33);
        verifyPosition(2, 295);
        verifyPosition(3, 213);
        goToPosition(3, 213);
        prepareLuckSettings(false, false, false);
        attackEnemy("5");
        prepareLuckSettings(false, false, false);
        attackEnemy("5");
        prepareLuckSettings(false, false, false);
        attackEnemy("5");
        prepareLuckSettings(false, false, false);
        attackEnemy("6");
        prepareLuckSettings(false, false, false);
        attackEnemy("6");
        prepareLuckSettings(false, false, false);
        attackEnemy("7");
        prepareLuckSettings(false, false, false);
        attackEnemy("7");
        prepareLuckSettings(false, false, false);
        attackEnemy("7");
        prepareLuckSettings(false, false, false);
        attackEnemy("7");
        verifyPosition(1, 235);
        goToPosition(1, 235);
        verifyPosition(0, 245);
        verifyPosition(1, 269);
        takeItem("3004");
        takeItem("3005");
        takeItem("2001");
        goToPosition(0, 245);
        verifyPosition(0, 161);
        verifyPosition(1, 390);
        verifyPosition(2, 47);
        goToPosition(0, 161);
        verifyPosition(0, 106);
        verifyPosition(1, 390);
        goToPosition(0, 106);
        verifyPosition(0, 218);
        goToPosition(0, 218);
        verifyPosition(2, 118);
        goToPosition(2, 118);
        giveResponse("handzs√°r", 13641);
        goToPosition(0, 371);
        verifyPosition(0, 177);
        goToPosition(0, 177);
        verifyPosition(0, 5);
        verifyPosition(1, 344);
        goToPosition(0, 5);
        verifyPosition(0, 40);
        verifyPosition(1, 361);
        goToPosition(0, 40);
        verifyPosition(0, 243);
        verifyPosition(1, 2);
        goToPosition(0, 243);
        verifyPosition(0, 352);
        verifyPosition(1, 2);
        goToPosition(0, 352);
        verifyPosition(0, 203);
        verifyPosition(1, 16);
        verifyPosition(2, 216);
        verifyPosition(3, 11);
        goToPosition(3, 11);
        verifyPosition(3, 128);
        verifyPosition(4, 152);
        verifyPosition(5, 16);
        goToPosition(4, 152);
        prepareLuckSettings(false, false, false);
        attackEnemy("15");
        prepareLuckSettings(false, false, false);
        attackEnemy("15");
        prepareLuckSettings(false, false, false);
        attackEnemy("15");
        prepareLuckSettings(false, false, false);
        attackEnemy("15");
        verifyPosition(0, 180);
        goToPosition(0, 180);
        verifyPosition(0, 99);
        takeItem("3008");
        takeItem("gold");
        goToPosition(0, 99);
        verifyPosition(0, 52);
        verifyPosition(1, 38);
        goToPosition(1, 38);
        verifyPosition(0, 132);
        verifyPosition(1, 306);
        goToPosition(0, 132);
        verifyPosition(0, 18);
        verifyPosition(1, 238);
        verifyPosition(2, 375);
        goToPosition(1, 238);
        verifyPosition(0, 18);
        verifyPosition(1, 375);
        verifyPosition(2, 31);
        goToPosition(0, 18);
        verifyPosition(0, 84);
        verifyPosition(1, 31);
        goToPosition(0, 84);
        verifyPosition(0, 234);
        goToPosition(0, 234);
        verifyPosition(0, 397);
        verifyPosition(1, 69);
        goToPosition(0, 397);
        verifyPosition(1, 69);
        verifyPosition(2, 193);
        goToPosition(2, 193);
        verifyPosition(2, 123);
        verifyPosition(3, 35);
        goToPosition(3, 35);
        verifyPosition(0, 364);
        verifyPosition(1, 246);
        goToPosition(0, 364);
        verifyPosition(0, 174);
        goToPosition(0, 174);
        verifyPosition(0, 268);
        verifyPosition(1, 116);
        goToPosition(0, 268);
        verifyPosition(0, 210);
        goToPosition(0, 210);
        verifyPosition(0, 192);
        verifyPosition(1, 359);
        goToPosition(1, 359);
        verifyPosition(0, 29);
        goToPosition(0, 29);
        verifyPosition(0, 271);
        verifyPosition(1, 131);
        goToPosition(0, 271);
        verifyPosition(0, 348);
        verifyPosition(1, 131);
        goToPosition(0, 348);
        verifyPosition(0, 207);
        verifyPosition(1, 22);
        verifyPosition(2, 354);
        verifyPosition(3, 68);
        goToPosition(3, 68);
        verifyPosition(0, 207);
        verifyPosition(1, 22);
        verifyPosition(2, 354);
        goToPosition(1, 22);
        verifyPosition(0, 188);
        goToPosition(0, 188);
        verifyPosition(2, 159);
        verifyPosition(3, 51);
        goToPosition(3, 51);
        verifyPosition(2, 159);
        verifyPosition(3, 280);
        goToPosition(3, 280);
        verifyPosition(0, 323);
        goToPosition(0, 323);
        verifyPosition(0, 386);
        verifyPosition(1, 144);
        verifyPosition(2, 338);
        takeItem("3006");
        takeItem("1002");
        applyItem("1002");
        goToPosition(1, 144);
        verifyPosition(0, 154);
        verifyPosition(1, 56);
        goToPosition(1, 56);
        verifyPosition(0, 120);
        verifyPosition(1, 163);
        verifyPosition(2, 334);
        verifyPosition(3, 95);
        goToPosition(0, 120);
        verifyPosition(0, 95);
        goToPosition(0, 95);
        verifyPosition(0, 367);
        goToPosition(0, 367);
        verifyPosition(0, 308);
        verifyPosition(1, 121);
        goToPosition(0, 308);
        verifyPosition(0, 257);
        goToPosition(0, 257);
        verifyPosition(0, 237);
        verifyPosition(1, 357);
        verifyPosition(2, 200);
        goToPosition(0, 237);
        verifyPosition(0, 169);
        goToPosition(0, 169);
        verifyPosition(0, 19);
        verifyPosition(1, 197);
        verifyPosition(2, 317);
        verifyPosition(3, 151);
        goToPosition(1, 197);
        verifyPosition(0, 363);
        goToPosition(0, 363);
        verifyPosition(0, 228);
        verifyPosition(1, 64);
        verifyPosition(2, 304);
        goToPosition(0, 228);
        verifyPosition(1, 88);
        verifyPosition(3, 296);
        goToPosition(3, 296);
        verifyPosition(0, 292);
        goToPosition(0, 292);
        verifyPosition(1, 376);
        verifyPosition(2, 64);
        verifyPosition(3, 42);
        goToPosition(3, 42);
        verifyPosition(0, 138);
        verifyPosition(1, 91);
        goToPosition(1, 91);
        verifyPosition(0, 91);
        verifyPosition(1, 140);
        goToPosition(0, 91);
        doAttributeCheck();
        goToPosition(0, 140);
        verifyPosition(0, 25);
        verifyPosition(1, 104);
        goToPosition(1, 104);
        verifyPosition(1, 266);
        verifyPosition(2, 310);
        verifyPosition(3, 54);
        verifyPosition(4, 25);
        goToPosition(3, 54);
        verifyPosition(1, 287);
        verifyPosition(3, 27);
        goToPosition(3, 27);
        verifyPosition(0, 206);
        goToPosition(0, 206);
        verifyPosition(0, 182);
        goToPosition(0, 182);
        verifyPosition(2, 395);
        verifyPosition(3, 322);
        verifyPosition(4, 248);
        goToPosition(3, 322);
        verifyPosition(2, 291);
        goToPosition(2, 291);
        verifyPosition(0, 328);
        goToPosition(0, 328);
        verifyPosition(1, 67);
        verifyPosition(3, 226);
        goToPosition(3, 226);
        verifyPosition(0, 312);
        verifyPosition(1, 37);
        goToPosition(1, 37);
        verifyPosition(0, 229);
        goToPosition(0, 229);
        giveResponse("217", 9411);
        goToPosition(0, 217);
        verifyPosition(1, 293);
        verifyPosition(2, 57);
        goToPosition(1, 293);
        verifyPosition(0, 374);
        consumeItem("2001");
        goToPosition(0, 374);
        verifyPosition(1, 30);
        verifyPosition(2, 109);
        verifyPosition(3, 158);
        goToPosition(3, 158);
        verifyPosition(0, 77);
        goToPosition(0, 77);
        verifyPosition(1, 187);
        verifyPosition(4, 351);
        goToPosition(1, 187);
        verifyPosition(0, 279);
        verifyPosition(1, 314);
        goToPosition(0, 279);
        verifyPosition(0, 44);
        verifyPosition(1, 318);
        verifyPosition(2, 78);
        verifyPosition(3, 335);
        goToPosition(2, 78);
        verifyPosition(0, 324);
        verifyPosition(1, 124);
        verifyPosition(2, 277);
        goToPosition(1, 124);
        verifyPosition(0, 400);
        goToPosition(0, 400);
    }

}
