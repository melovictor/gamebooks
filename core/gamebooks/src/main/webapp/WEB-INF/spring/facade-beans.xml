<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context"
  xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:p="http://www.springframework.org/schema/p" xmlns:c="http://www.springframework.org/schema/c" xmlns:util="http://www.springframework.org/schema/util"
  xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd">

  <beans profile="dev">
    <bean class="hu.zagor.gamebooks.mvc.login.facade.DummyLoginFacade" id="activeLoginFacade" p:dummyUsers-ref="dummyUserMap" />
    <util:map key-type="java.lang.String" value-type="hu.zagor.gamebooks.mvc.login.domain.LoginResult" id="dummyUserMap">
      <entry key="FireFoX">
        <bean class="hu.zagor.gamebooks.mvc.login.domain.LoginResult" p:admin="true" p:id="29" p:successful="true" />
      </entry>
      <entry key="gnome">
        <bean class="hu.zagor.gamebooks.mvc.login.domain.LoginResult" p:admin="false" p:id="168" p:successful="true" />
      </entry>
    </util:map>
  </beans>
  <beans profile="!dev">
    <bean class="hu.zagor.gamebooks.mvc.login.facade.ZagorLoginFacade" id="activeLoginFacade" />
  </beans>

  <beans>
    <util:map id="imageLookupStrategies" key-type="hu.zagor.gamebooks.controller.image.ImageLookupStrategyType" value-type="hu.zagor.gamebooks.controller.image.ImageLookupStrategy">
      <entry key="BW_COLOR">
        <bean class="hu.zagor.gamebooks.controller.image.BwFirstImageLookupStrategy" />
      </entry>
      <entry key="COLOR_BW">
        <bean class="hu.zagor.gamebooks.controller.image.ColorFirstImageLookupStrategy" />
      </entry>
    </util:map>
    <bean class="hu.zagor.gamebooks.controller.image.ClasspathImageHandler" id="classpathImageHandler" p:lookupStrategies-ref="imageLookupStrategies" />

    <bean class="hu.zagor.gamebooks.controller.content.DefaultBookContentInitializer" id="defaultBookContentInitializer" c:gameStateHandler-ref="xmlGameStateHandler"
      c:storage-ref="cachedBookContentStorage" />
  </beans>

</beans>